{
  "version": "1.0.0",
  "created": "2026-01-03T00:00:00+08:00",
  "updated": "2026-01-03T14:00:00+08:00",
  "patterns": [
    {
      "id": "pat-release-integrity",
      "name": "发布完整性模式 (Release Integrity Pattern)",
      "category": "workflow_automation",
      "created": "2026-01-03T14:00:00+08:00",
      "source_reflection": "ref-20260103-release-workflow",
      "description": "确保发布版本包含所有预期修改，通过工具化和流程强制实现",
      "principles": [
        {
          "id": "rip-1",
          "name": "单一执行点",
          "description": "发布脚本必须从项目根目录执行",
          "enforcement": "脚本内置根目录验证，非根目录时报错退出"
        },
        {
          "id": "rip-2",
          "name": "原子化操作",
          "description": "版本更新和暂存应作为原子操作",
          "enforcement": "--release 模式自动暂存所有版本文件"
        },
        {
          "id": "rip-3",
          "name": "强制验证",
          "description": "创建 tag 前必须验证 git status 干净",
          "enforcement": "--release 模式检查并警告未提交更改"
        },
        {
          "id": "rip-4",
          "name": "引导式流程",
          "description": "脚本输出下一步操作指引，减少人为遗漏",
          "enforcement": "--release 模式输出完整发布检查清单"
        }
      ],
      "anti_patterns": [
        "从子目录执行根目录脚本",
        "手动 git add 部分文件",
        "跳过 git status 检查直接创建 tag"
      ],
      "applicability": ["release", "migration", "multi-file-refactoring"],
      "validation": {
        "command": "node scripts/bump-version.js --release --dry-run",
        "expected": "显示发布检查清单"
      }
    }
  ],
  "feedback": []
}
