{
  "id": "obs-20260103-release-workflow",
  "type": "user_feedback",
  "status": "promoted",
  "source": "manual",
  "created": "2026-01-03T13:00:00+08:00",
  "updated": "2026-01-03T14:00:00+08:00",
  "description": "发布流程中版本同步脚本修改了多个文件，但 git commit 时只提交了部分文件，导致 tag 创建后发现还有未提交的版本文件",
  "context": {
    "scenario": "v3.0.0 发布",
    "root_cause": "bump-version.js 修改 4 个文件，但 git add 时当前目录在 skills/mob-seed，导致只 stage 了相对路径下的文件",
    "affected_files": [
      "package.json",
      ".claude-plugin/plugin.json",
      ".claude-plugin/marketplace.json",
      "skills/mob-seed/package.json"
    ],
    "symptom": "创建 tag 后发现 3 个版本文件还有 M 状态"
  },
  "related_spec": null,
  "suggestions": [
    "发布脚本应该从项目根目录执行",
    "bump-version.js 执行后自动 git add 所有修改的文件",
    "创建 tag 前强制检查 git status 是否干净",
    "在 CLAUDE.md 添加发布流程检查清单"
  ],
  "triage": {
    "priority": "high",
    "impact": "release integrity",
    "triaged_at": "2026-01-03T14:00:00+08:00",
    "decision": "promote",
    "reason": "发布流程问题会导致版本不一致，必须从根本上解决"
  },
  "actions_taken": [
    {
      "action": "enhanced bump-version.js with --release mode",
      "timestamp": "2026-01-03T14:00:00+08:00",
      "details": "添加了项目根目录验证、git 状态检查、自动暂存、发布清单指引"
    }
  ],
  "promoted_to": "ref-20260103-release-workflow"
}
