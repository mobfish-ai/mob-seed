# v3.11 LINKS × SEED 深度整合 - 任务清单

> **状态**: 📝 draft
> **提案**: v3.11-links-seed-integration
> **创建**: 2026-01-30

---

## 进度总览

```
整体进度: ░░░░░░░░░░ 0%

Phase 1 - KB 集成框架:     ░░░░░░░░░░ 0%
Phase 2 - SEED 阶段增强:   ░░░░░░░░░░ 0%
Phase 3 - 经验沉淀:        ░░░░░░░░░░ 0%
```

---

## Phase 1: KB 集成框架

### 1.1 规格定义

- [ ] 编写 `kb-integration.fspec.md` 规格文件
- [ ] 定义 KB 解析接口
- [ ] 定义 KB 查询接口
- [ ] 定义 KB 注册表结构

### 1.2 实现

- [ ] 实现 `lib/kb/kb-resolver.js` - KB 路径解析
- [ ] 实现 `lib/kb/kb-query.js` - KB 内容查询
- [ ] 实现 `lib/kb/kb-registry.js` - KB 注册和索引

### 1.3 测试

- [ ] 编写 KB 解析器测试
- [ ] 编写 KB 查询器测试
- [ ] 编写 KB 注册表测试

---

## Phase 2: SEED 阶段增强

### 2.1 Spec 阶段增强

- [ ] 在 spec 命令中集成 KB 加载
- [ ] 显示相关领域知识
- [ ] 显示历史类似规格

### 2.2 Emit 阶段增强

- [ ] 从 KB 加载编码规范
- [ ] 从 KB 加载架构模式
- [ ] 在生成代码中应用规范

### 2.3 Defend 阶段增强

- [ ] 从 KB 加载验证规则
- [ ] 基于 KB 规则执行检查
- [ ] 报告 KB 规则违规

---

## Phase 3: 经验沉淀

### 3.1 归档触发器

- [ ] 在归档流程中添加沉淀触发点
- [ ] 提取变更的关键信息

### 3.2 经验提取

- [ ] 实现经验提取算法
- [ ] 生成 ACE 观察
- [ ] 提炼为洞见（符合阈值时）

### 3.3 KB 更新

- [ ] 识别需要更新的 KB
- [ ] 生成 KB 更新建议
- [ ] 可选：自动更新 KB

---

## 验收标准

| AC ID | 描述 | 状态 |
|-------|------|------|
| AC-001 | Spec 阶段能加载并显示相关 KB | ⬜ |
| AC-002 | Emit 阶段能从 KB 获取编码规范 | ⬜ |
| AC-003 | Defend 阶段能基于 KB 规则验证 | ⬜ |
| AC-004 | 归档后能自动生成 ACE 观察 | ⬜ |
| AC-005 | KB 不存在时能优雅降级 | ⬜ |

---

## 测试统计

| 模块 | 测试数 | 通过 | 失败 | 覆盖率 |
|------|--------|------|------|--------|
| kb-resolver | - | - | - | - |
| kb-query | - | - | - | - |
| kb-registry | - | - | - | - |
| **总计** | **0** | **0** | **0** | **-** |

---

*创建: 2026-01-30 | 更新: 2026-01-30*
