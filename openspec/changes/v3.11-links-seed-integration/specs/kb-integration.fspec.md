---
id: kb-integration
status: draft
created: 2026-01-30
updated: 2026-01-30
architecture_decisions_completed: false
---

# LINKS Ã— SEED KB é›†æˆè§„æ ¼

> **ç‰ˆæœ¬**: 1.0.0
> **åˆ›å»ºæ—¶é—´**: 2026-01-30
> **æœ€åæ›´æ–°**: 2026-01-30
> **æ¥æº**: LINKS æ–¹æ³•è®º v2.0 + SEED æ–¹æ³•è®º

---

## æ¦‚è¿° (Overview)

### åŠŸèƒ½æè¿°

å°† LINKS æ–¹æ³•è®ºçš„çŸ¥è¯†åº“ (KB) èƒ½åŠ›æ·±åº¦é›†æˆåˆ° SEED å¼€å‘æµç¨‹ä¸­ï¼Œå®ç°**çŸ¥è¯†é©±åŠ¨çš„è§„æ ¼å¼€å‘**ã€‚

### ç›®æ ‡ç”¨æˆ·

- ä½¿ç”¨ SEED æ–¹æ³•è®ºè¿›è¡Œå¼€å‘çš„å›¢é˜Ÿ
- å¸Œæœ›å°†çŸ¥è¯†ç®¡ç†ä¸å¼€å‘æµç¨‹ç»“åˆçš„å¼€å‘è€…
- éœ€è¦äº‹å®é”šç‚¹æ¥å‡å°‘ AI å¹»è§‰çš„ç”¨æˆ·

### æ ¸å¿ƒä»·å€¼

1. **ä»æ¦‚ç‡ç”Ÿæˆåˆ°äº‹å®æ£€ç´¢**: KB ä½œä¸º AI çš„äº‹å®é”šç‚¹
2. **çŸ¥è¯†å¤ç”¨**: å†å²ç»éªŒè‡ªåŠ¨åº”ç”¨åˆ°æ–°é¡¹ç›®
3. **é—­ç¯æ¼”åŒ–**: å¼€å‘ç»éªŒæ²‰æ·€å› KBï¼Œå½¢æˆæ­£å‘å¾ªç¯

---

## æ¶æ„å†³ç­–æ£€æŸ¥æ¸…å• (Architecture Decisions)

> **é‡è¦**: åœ¨ç¼–å†™è¯¦ç»†è§„æ ¼å‰ï¼Œå…ˆå®Œæˆä»¥ä¸‹æ¶æ„å†³ç­–æ£€æŸ¥ã€‚

### 1. ç›®å½•ç»“æ„è®¾è®¡

- [x] æŒ‰åŠŸèƒ½åˆ†å±‚ï¼ˆæ¨èï¼‰
- [ ] æŒ‰æ¨¡å—åˆ†ç»„
- [ ] æ‰å¹³ç»“æ„

**é€‰æ‹©**: æŒ‰åŠŸèƒ½åˆ†å±‚
**ç†ç”±**:
- KB ç›¸å…³åŠŸèƒ½æ˜¯ç‹¬ç«‹çš„å­ç³»ç»Ÿ
- ä¸ç°æœ‰ `lib/ace/` å’Œ `lib/lifecycle/` ä¿æŒä¸€è‡´
- ä¾¿äºåç»­æ‰©å±•ï¼ˆå¦‚æ·»åŠ  KB ç¼“å­˜å±‚ï¼‰

**ç›®å½•ç»“æ„**:
```
skills/mob-seed/lib/
â””â”€â”€ kb/
    â”œâ”€â”€ kb-resolver.js   # è·¯å¾„è§£æ
    â”œâ”€â”€ kb-query.js      # å†…å®¹æŸ¥è¯¢
    â”œâ”€â”€ kb-registry.js   # æ³¨å†Œç´¢å¼•
    â””â”€â”€ index.js         # ç»Ÿä¸€å¯¼å‡º
```

### 2. å‘½åè§„èŒƒ

- [x] åŠ¨è¯-å¯¹è±¡ï¼ˆæ¨èï¼‰
- [ ] å¯¹è±¡-åŠ¨è¯
- [ ] åè¯

**é€‰æ‹©**: åŠ¨è¯-å¯¹è±¡
**ç†ç”±**: ä¸ç°æœ‰ä»£ç é£æ ¼ä¸€è‡´ï¼ˆå¦‚ `loadKB`, `queryKB`, `resolveKBPath`ï¼‰

### 3. åº“ä¸ CLI åˆ†ç¦»

- [x] çº¯åº“ï¼ŒCLI é€šè¿‡å‘½ä»¤è°ƒç”¨
- [ ] å†…åµŒ CLI
- [ ] æ··åˆæ¨¡å¼

**é€‰æ‹©**: çº¯åº“
**ç†ç”±**: KB åŠŸèƒ½é€šè¿‡ç°æœ‰ `/mob-seed:*` å‘½ä»¤è°ƒç”¨ï¼Œæ— éœ€ç‹¬ç«‹ CLI

### 4. é”™è¯¯å¤„ç†ç­–ç•¥

- [x] ä¼˜é›…é™çº§ï¼ˆæ¨èï¼‰
- [ ] å¿«é€Ÿå¤±è´¥
- [ ] é™é»˜å¤±è´¥

**é€‰æ‹©**: ä¼˜é›…é™çº§
**ç†ç”±**:
- KB ä¸å­˜åœ¨ä¸åº”é˜»å¡ SEED æµç¨‹
- æ˜¾ç¤º"æ—  KB æ”¯æ’‘"æç¤ºï¼Œç»§ç»­æ‰§è¡Œ
- æ ¸å¿ƒ SEED åŠŸèƒ½ä¸å— KB å¯ç”¨æ€§å½±å“

### 5. é€€å‡ºç è®¾è®¡

- [ ] åˆ†å±‚
- [x] ç®€å•ï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰
- [ ] ä¸å…³å¿ƒ

**é€‰æ‹©**: ç®€å•
**ç†ç”±**: ä½œä¸ºåº“å‡½æ•°ï¼Œé€šè¿‡è¿”å›å€¼å’Œå¼‚å¸¸å¤„ç†ï¼Œä¸æ¶‰åŠé€€å‡ºç 

### 6. Git Hooks é›†æˆæ–¹å¼

- [ ] pre-commit
- [ ] pre-push
- [x] ä¸é›†æˆ Hooks

**é€‰æ‹©**: ä¸é›†æˆ
**ç†ç”±**: KB æŸ¥è¯¢æ˜¯è¿è¡Œæ—¶åŠŸèƒ½ï¼Œä¸éœ€è¦ hooks æ”¯æŒ

### 7. æµ‹è¯•è¦†ç›–ç‡è¦æ±‚

- [x] æŒ‰é£é™©åˆ†çº§
- [ ] ç»Ÿä¸€æ ‡å‡†

**é€‰æ‹©**: æŒ‰é£é™©åˆ†çº§
**ç†ç”±**:
- æ ¸å¿ƒæŸ¥è¯¢é€»è¾‘ï¼šé«˜è¦†ç›–ç‡ (>90%)
- è·¯å¾„è§£æï¼šä¸­è¦†ç›–ç‡ (>80%)
- æ³¨å†Œè¡¨æ“ä½œï¼šä¸­è¦†ç›–ç‡ (>80%)

### 8. åºŸå¼ƒç­–ç•¥

- [x] ç‰ˆæœ¬åŒ–
- [ ] ç«‹å³åºŸå¼ƒ

**é€‰æ‹©**: ç‰ˆæœ¬åŒ–
**ç†ç”±**: ä½¿ç”¨ JSDoc `@deprecated` æ ‡æ³¨ï¼Œä¸»ç‰ˆæœ¬å‡çº§æ—¶ç§»é™¤

---

## éœ€æ±‚ (Requirements)

### åŠŸèƒ½éœ€æ±‚

#### FR-001: KB è·¯å¾„è§£æ

- [ ] FR-001.1: æ”¯æŒè§£æ Skills ç›®å½•ä¸­çš„ KB (`~/.claude/skills/{name}-kb/`)
- [ ] FR-001.2: æ”¯æŒè§£æé¡¹ç›®æœ¬åœ° KB (`.claude/skills/{name}-kb/`)
- [ ] FR-001.3: æ”¯æŒè§£æ Obsidian çŸ¥è¯†åº“ä¸­çš„ KB
- [ ] FR-001.4: æŒ‰ä¼˜å…ˆçº§é¡ºåºæŸ¥æ‰¾ï¼šé¡¹ç›®æœ¬åœ° > ç”¨æˆ·å…¨å±€ > Obsidian

#### FR-002: KB å†…å®¹æŸ¥è¯¢

- [ ] FR-002.1: æ”¯æŒæŒ‰ KB åç§°åŠ è½½å®Œæ•´å†…å®¹
- [ ] FR-002.2: æ”¯æŒæŒ‰å…³é”®è¯åœ¨ KB ä¸­æœç´¢
- [ ] FR-002.3: æ”¯æŒæŒ‰æ ‡ç­¾è¿‡æ»¤ KB å†…å®¹
- [ ] FR-002.4: æ”¯æŒè·å– KB å…ƒä¿¡æ¯ï¼ˆåç§°ã€æè¿°ã€æ›´æ–°æ—¶é—´ï¼‰

#### FR-003: KB æ³¨å†Œè¡¨

- [ ] FR-003.1: ç»´æŠ¤å·²å‘ç° KB çš„ç´¢å¼•
- [ ] FR-003.2: æ”¯æŒæŒ‰åˆ†ç±»æŸ¥è¯¢ KBï¼ˆmethods, business, patterns ç­‰ï¼‰
- [ ] FR-003.3: æ”¯æŒ KB é—´çš„é“¾æ¥å…³ç³»
- [ ] FR-003.4: æ”¯æŒç¼“å­˜å·²åŠ è½½çš„ KB å†…å®¹

#### FR-004: SEED é˜¶æ®µé›†æˆ

- [ ] FR-004.1: Spec é˜¶æ®µè‡ªåŠ¨åŠ è½½é¢†åŸŸç›¸å…³ KB
- [ ] FR-004.2: Emit é˜¶æ®µè‡ªåŠ¨åŠ è½½ç¼–ç è§„èŒƒ KB
- [ ] FR-004.3: Defend é˜¶æ®µè‡ªåŠ¨åŠ è½½éªŒè¯è§„åˆ™ KB
- [ ] FR-004.4: å½’æ¡£é˜¶æ®µè§¦å‘ç»éªŒæ²‰æ·€

#### FR-005: ç»éªŒæ²‰æ·€

- [ ] FR-005.1: ä»å½’æ¡£çš„å˜æ›´ä¸­æå–å…³é”®ç»éªŒ
- [ ] FR-005.2: ç”Ÿæˆ ACE è§‚å¯Ÿè®°å½•
- [ ] FR-005.3: è¯†åˆ«éœ€è¦æ›´æ–°çš„ KB
- [ ] FR-005.4: ç”Ÿæˆ KB æ›´æ–°å»ºè®®

### éåŠŸèƒ½éœ€æ±‚

#### NFR-001: æ€§èƒ½

- [ ] KB åŠ è½½æ—¶é—´ < 200ms
- [ ] KB æœç´¢æ—¶é—´ < 500ms
- [ ] ç¼“å­˜å‘½ä¸­ç‡ > 80%

#### NFR-002: å¯ç”¨æ€§

- [ ] KB ä¸å­˜åœ¨æ—¶ä¼˜é›…é™çº§
- [ ] æ¸…æ™°çš„é”™è¯¯æç¤º
- [ ] æ”¯æŒç¦»çº¿æ¨¡å¼ï¼ˆä½¿ç”¨ç¼“å­˜ï¼‰

#### NFR-003: å…¼å®¹æ€§

- [ ] å…¼å®¹ LINKS æ–¹æ³•è®º v2.0 çš„ KB æ ¼å¼
- [ ] å…¼å®¹ç°æœ‰ SEED æµç¨‹
- [ ] ä¸ç ´åç°æœ‰å‘½ä»¤è¡Œä¸º

---

## çº¦æŸ (Constraints)

### æŠ€æœ¯çº¦æŸ

| çº¦æŸ | è¯´æ˜ |
|------|------|
| æ¨¡å—ç³»ç»Ÿ | CommonJSï¼ˆä¸ç°æœ‰ä»£ç ä¸€è‡´ï¼‰|
| Node.js ç‰ˆæœ¬ | >= 18.0.0 |
| æ— å¤–éƒ¨ä¾èµ– | ä»…ä½¿ç”¨ Node.js å†…ç½®æ¨¡å— |

### ä¸šåŠ¡çº¦æŸ

| çº¦æŸ | è¯´æ˜ |
|------|------|
| å‘åå…¼å®¹ | ä¸å½±å“ä¸ä½¿ç”¨ KB çš„ç”¨æˆ· |
| å¯é€‰åŠŸèƒ½ | KB é›†æˆä¸ºå¯é€‰ï¼Œé€šè¿‡é…ç½®å¯ç”¨ |
| æ¸è¿›å¼é‡‡ç”¨ | ç”¨æˆ·å¯ä»¥åªä½¿ç”¨éƒ¨åˆ† KB åŠŸèƒ½ |

---

## éªŒæ”¶æ ‡å‡† (Acceptance Criteria)

### AC-001: KB è·¯å¾„è§£æ

**Given**: ç”¨æˆ·é…ç½®äº† KB è·¯å¾„
**When**: è°ƒç”¨ `resolveKBPath('methods-kb')`
**Then**: è¿”å›æ­£ç¡®çš„ KB ç›®å½•è·¯å¾„

```javascript
// ç¤ºä¾‹
const path = resolveKBPath('methods-kb');
// è¿”å›: '/Users/xxx/.claude/skills/methods-kb' æˆ– null
```

### AC-002: KB å†…å®¹åŠ è½½

**Given**: KB ç›®å½•å­˜åœ¨ä¸”åŒ…å« SKILL.md
**When**: è°ƒç”¨ `loadKB('methods-kb')`
**Then**: è¿”å› KB çš„å†…å®¹å¯¹è±¡

```javascript
// ç¤ºä¾‹
const kb = loadKB('methods-kb');
// è¿”å›: { name: 'methods-kb', content: '...', metadata: {...} }
```

### AC-003: KB ä¸å­˜åœ¨æ—¶ä¼˜é›…é™çº§

**Given**: è¯·æ±‚çš„ KB ä¸å­˜åœ¨
**When**: è°ƒç”¨ `loadKB('nonexistent-kb')`
**Then**: è¿”å› null ä¸”ä¸æŠ›å‡ºå¼‚å¸¸

```javascript
// ç¤ºä¾‹
const kb = loadKB('nonexistent-kb');
// è¿”å›: nullï¼ˆä¸æŠ›å‡ºå¼‚å¸¸ï¼‰
```

### AC-004: Spec é˜¶æ®µ KB æ”¯æ’‘

**Given**: ç”¨æˆ·è¿è¡Œ `/mob-seed:spec --create`
**When**: å­˜åœ¨ç›¸å…³é¢†åŸŸ KB
**Then**: åœ¨è¾“å‡ºä¸­æ˜¾ç¤º KB æä¾›çš„èƒŒæ™¯çŸ¥è¯†

```
ğŸŒ± SEED Sé˜¶æ®µ: å•æºè§„æ ¼å®šä¹‰
â”â”â” ğŸ“ åˆ›å»ºè§„æ ¼ â”â”â”

ğŸ“š KB çŸ¥è¯†æ”¯æ’‘:
â”œâ”€â”€ methods-kb: SEED æ–¹æ³•è®ºæŒ‡å—
â”œâ”€â”€ patterns-kb: 3 ä¸ªç›¸å…³æ¨¡å¼
â””â”€â”€ ace-kb: 2 ä¸ªå†å²æ´è§

[ç»§ç»­åˆ›å»ºè§„æ ¼æµç¨‹...]
```

### AC-005: å½’æ¡£åç”Ÿæˆ ACE è§‚å¯Ÿ

**Given**: ç”¨æˆ·è¿è¡Œ `/mob-seed:archive` æˆåŠŸ
**When**: å½’æ¡£æµç¨‹å®Œæˆ
**Then**: è‡ªåŠ¨ç”Ÿæˆ ACE è§‚å¯Ÿè®°å½•

```
âœ… å½’æ¡£å®Œæˆ: v3.11-links-seed-integration

ğŸ“ ç»éªŒæ²‰æ·€:
â”œâ”€â”€ ç”Ÿæˆè§‚å¯Ÿ: obs-20260130-kb-integration
â”œâ”€â”€ å…³é”®ç»éªŒ: KB ä¼˜é›…é™çº§è®¾è®¡æ¨¡å¼
â””â”€â”€ å»ºè®®æ›´æ–°: patterns-kb (æ–°å¢é”™è¯¯å¤„ç†æ¨¡å¼)
```

---

## æ´¾ç”Ÿäº§ç‰© (Derived Outputs)

> **è·¯å¾„è§„èŒƒ**: æ‰€æœ‰è·¯å¾„éµå¾ª `.seed/config.json` ä¸­çš„ `paths` é…ç½®ã€‚

| ç±»å‹ | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| ä»£ç  | `skills/mob-seed/lib/kb/kb-resolver.js` | KB è·¯å¾„è§£æ |
| ä»£ç  | `skills/mob-seed/lib/kb/kb-query.js` | KB å†…å®¹æŸ¥è¯¢ |
| ä»£ç  | `skills/mob-seed/lib/kb/kb-registry.js` | KB æ³¨å†Œç´¢å¼• |
| ä»£ç  | `skills/mob-seed/lib/kb/index.js` | ç»Ÿä¸€å¯¼å‡º |
| æµ‹è¯• | `skills/mob-seed/test/kb/kb-resolver.test.js` | è§£æå™¨æµ‹è¯• |
| æµ‹è¯• | `skills/mob-seed/test/kb/kb-query.test.js` | æŸ¥è¯¢å™¨æµ‹è¯• |
| æµ‹è¯• | `skills/mob-seed/test/kb/kb-registry.test.js` | æ³¨å†Œè¡¨æµ‹è¯• |

---

## æ¥å£è®¾è®¡ (API Design)

### kb-resolver.js

```javascript
/**
 * è§£æ KB è·¯å¾„
 * @param {string} kbName - KB åç§°ï¼ˆå¦‚ 'methods-kb'ï¼‰
 * @param {object} options - é€‰é¡¹
 * @param {string} options.projectPath - é¡¹ç›®è·¯å¾„
 * @returns {string|null} KB ç›®å½•è·¯å¾„ï¼Œä¸å­˜åœ¨è¿”å› null
 */
function resolveKBPath(kbName, options = {}) { }

/**
 * è·å–æ‰€æœ‰ KB æœç´¢è·¯å¾„
 * @param {string} projectPath - é¡¹ç›®è·¯å¾„
 * @returns {string[]} æœç´¢è·¯å¾„åˆ—è¡¨ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
 */
function getKBSearchPaths(projectPath) { }

/**
 * æ£€æŸ¥ KB æ˜¯å¦å­˜åœ¨
 * @param {string} kbName - KB åç§°
 * @param {string} projectPath - é¡¹ç›®è·¯å¾„
 * @returns {boolean}
 */
function kbExists(kbName, projectPath) { }
```

### kb-query.js

```javascript
/**
 * åŠ è½½ KB å†…å®¹
 * @param {string} kbName - KB åç§°
 * @param {object} options - é€‰é¡¹
 * @returns {object|null} KB å†…å®¹å¯¹è±¡ï¼Œä¸å­˜åœ¨è¿”å› null
 */
function loadKB(kbName, options = {}) { }

/**
 * åœ¨ KB ä¸­æœç´¢å…³é”®è¯
 * @param {string} kbName - KB åç§°
 * @param {string} keyword - æœç´¢å…³é”®è¯
 * @returns {object[]} åŒ¹é…çš„å†…å®¹ç‰‡æ®µ
 */
function searchInKB(kbName, keyword) { }

/**
 * è·å– KB å…ƒä¿¡æ¯
 * @param {string} kbName - KB åç§°
 * @returns {object|null} å…ƒä¿¡æ¯å¯¹è±¡
 */
function getKBMetadata(kbName) { }
```

### kb-registry.js

```javascript
/**
 * æ‰«æå¹¶æ³¨å†Œæ‰€æœ‰å¯ç”¨ KB
 * @param {string} projectPath - é¡¹ç›®è·¯å¾„
 * @returns {object} KB æ³¨å†Œè¡¨
 */
function scanAndRegisterKBs(projectPath) { }

/**
 * æŒ‰åˆ†ç±»è·å– KB åˆ—è¡¨
 * @param {string} category - åˆ†ç±»ï¼ˆmethods, patterns, business ç­‰ï¼‰
 * @returns {string[]} KB åç§°åˆ—è¡¨
 */
function getKBsByCategory(category) { }

/**
 * è·å– SEED é˜¶æ®µç›¸å…³çš„ KB
 * @param {string} stage - SEED é˜¶æ®µï¼ˆspec, emit, defend, archiveï¼‰
 * @returns {string[]} ç›¸å…³ KB åç§°åˆ—è¡¨
 */
function getKBsForSeedStage(stage) { }
```

---

## SEED é˜¶æ®µ Ã— KB æ˜ å°„

| SEED é˜¶æ®µ | KB åˆ†ç±» | ç”¨é€” |
|-----------|---------|------|
| **Spec** | `methods-kb`, `business-kb`, `ace-kb` | æä¾›é¢†åŸŸèƒŒæ™¯çŸ¥è¯† |
| **Emit** | `coding-standards`, `patterns-kb`, `architecture-kb` | æŒ‡å¯¼ä»£ç ç”Ÿæˆ |
| **Defend** | `rules-kb`, `checklist-kb`, `quality-kb` | æä¾›éªŒè¯è§„åˆ™ |
| **Archive** | `ace-kb` (å†™å…¥) | æ²‰æ·€ç»éªŒä¸ºè§‚å¯Ÿ/æ´è§ |

---

## é…ç½®é¡¹ (Configuration)

åœ¨ `.seed/config.json` ä¸­æ–°å¢ï¼š

```json
{
  "kb": {
    "enabled": true,
    "searchPaths": [
      ".claude/skills",
      "~/.claude/skills",
      "~/obsidian/ob1"
    ],
    "stageMapping": {
      "spec": ["methods-kb", "business-kb", "ace-kb"],
      "emit": ["coding-standards", "patterns-kb"],
      "defend": ["rules-kb", "checklist-kb"],
      "archive": ["ace-kb"]
    },
    "cache": {
      "enabled": true,
      "ttl": 3600
    }
  }
}
```

---

## é”™è¯¯å¤„ç†

| åœºæ™¯ | å¤„ç†æ–¹å¼ |
|------|----------|
| KB ç›®å½•ä¸å­˜åœ¨ | è¿”å› nullï¼Œè®°å½• debug æ—¥å¿— |
| SKILL.md æ ¼å¼é”™è¯¯ | è¿”å› nullï¼Œè®°å½• warning æ—¥å¿— |
| æœç´¢æ— ç»“æœ | è¿”å›ç©ºæ•°ç»„ |
| é…ç½®ç¦ç”¨ KB | è·³è¿‡æ‰€æœ‰ KB æ“ä½œ |

---

## ç›¸å…³è§„æ ¼

| è§„æ ¼ | å…³ç³» |
|------|------|
| LINKS æ–¹æ³•è®º v2.0 | ä¾èµ– - KB æ ¼å¼å®šä¹‰ |
| ACE é—­ç¯ | é›†æˆ - ç»éªŒæ²‰æ·€ |
| OpenSpec ç”Ÿå‘½å‘¨æœŸ | é›†æˆ - é˜¶æ®µé’©å­ |

---

*åˆ›å»º: 2026-01-30 | æ–¹æ³•è®º: SEED + LINKS | ä½œè€…: Claude*
