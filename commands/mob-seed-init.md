---
description: SEED åˆå§‹åŒ– - åˆ›å»º OpenSpec æ ‡å‡†ç›®å½•ç»“æ„ï¼ˆé»˜è®¤ï¼‰æˆ–æ‰«æç°æœ‰é¡¹ç›®
allowed-tools: Read, Write, Edit, Bash, Glob, Grep, AskUserQuestion
argument-hint: [--legacy] [--migrate] [--force] [--manual]
---

# mob-seed-init

æ‰§è¡Œå†…å®¹ï¼š$ARGUMENTS

## ğŸ“¦ ä¾èµ–èµ„æº

```
.claude/skills/mob-seed/
â”œâ”€â”€ lib/lifecycle/
â”‚   â”œâ”€â”€ migrator.js         # è¿ç§»å·¥å…·ï¼ˆ--migrate ä½¿ç”¨ï¼‰
â”‚   â””â”€â”€ parser.js           # è§„æ ¼è§£æ
â”œâ”€â”€ adapters/
â”‚   â””â”€â”€ seed-utils.js       # å·¥å…·æ¨¡å—
â””â”€â”€ templates/
    â””â”€â”€ openspec/           # OpenSpec æ¨¡æ¿
```

## è®¾è®¡ç†å¿µ

**OpenSpec åŸç”Ÿ + é›¶ä¾µå…¥ + æ™ºèƒ½é€‚é…**ï¼š
- **é»˜è®¤åˆ›å»º OpenSpec æ ‡å‡†ç›®å½•ç»“æ„**ï¼ˆæ¨èæ‰€æœ‰æ–°é¡¹ç›®ï¼‰
- åªåˆ›å»º `.seed/` éšè—ç›®å½•å­˜æ”¾é…ç½®
- `--legacy` æ¨¡å¼æ”¯æŒä¼ ç»Ÿ `specs/` ç›®å½•ç»“æ„
- æ™ºèƒ½æ‰«æè¯†åˆ«ç°æœ‰é¡¹ç›®ç»“æ„

## æ‰§è¡Œæ­¥éª¤

### æ­¥éª¤0: æ£€æŸ¥å‚æ•°å¹¶åˆ†æ”¯

**å‚æ•°æ£€æŸ¥**ï¼š
- æ— å‚æ•°ï¼šè¿›å…¥ **OpenSpec æ¨¡å¼**ï¼ˆæ­¥éª¤ 0aï¼Œé»˜è®¤æ¨èï¼‰
- `--legacy`ï¼šè¿›å…¥ä¼ ç»Ÿæ¨¡å¼ï¼ˆæ­¥éª¤ 0cï¼‰
- `--migrate`ï¼šè¿›å…¥è¿ç§»æ¨¡å¼ï¼ˆæ­¥éª¤ 0bï¼‰

#### æ­¥éª¤0a: OpenSpec æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰

åˆ›å»º OpenSpec æ ‡å‡†ç›®å½•ç»“æ„ï¼š

```
project/
â”œâ”€â”€ openspec/
â”‚   â”œâ”€â”€ specs/                    # çœŸç›¸æºï¼ˆå·²å®ç°çš„è§„æ ¼ï¼‰
â”‚   â”‚   â””â”€â”€ .gitkeep
â”‚   â”œâ”€â”€ changes/                  # å˜æ›´ææ¡ˆï¼ˆå¼€å‘ä¸­çš„è§„æ ¼ï¼‰
â”‚   â”‚   â””â”€â”€ .gitkeep
â”‚   â”œâ”€â”€ project.md                # é¡¹ç›®çº¦å®š
â”‚   â””â”€â”€ AGENTS.md                 # AI å·¥ä½œæµæŒ‡ä»¤
â”œâ”€â”€ .seed/
â”‚   â””â”€â”€ config.json               # SEED é…ç½®
â””â”€â”€ ...
```

1. åˆ›å»º `openspec/specs/` ç›®å½•
2. åˆ›å»º `openspec/changes/` ç›®å½•
3. å¤åˆ¶ `project.md` æ¨¡æ¿åˆ° `openspec/project.md`
4. å¤åˆ¶ `AGENTS.md` æ¨¡æ¿åˆ° `openspec/AGENTS.md`
5. ç”Ÿæˆ `.seed/config.json`ï¼ˆå« openspec é…ç½®ï¼‰

è¾“å‡ºï¼š
```
âœ… OpenSpec å…¼å®¹ç»“æ„å·²åˆ›å»º

openspec/
â”œâ”€â”€ specs/          # çœŸç›¸æºï¼ˆå·²å®ç°çš„è§„æ ¼ï¼‰
â”œâ”€â”€ changes/        # å˜æ›´ææ¡ˆ
â”œâ”€â”€ project.md      # é¡¹ç›®çº¦å®š
â””â”€â”€ AGENTS.md       # AI å·¥ä½œæµ

.seed/config.json   # SEED é…ç½®ï¼ˆOpenSpec æ¨¡å¼ï¼‰

ä¸‹ä¸€æ­¥:
1. ç¼–è¾‘ openspec/project.md å¡«å†™é¡¹ç›®ä¿¡æ¯
2. åˆ›å»ºè§„æ ¼ææ¡ˆ: /mob-seed-spec --proposal "feature-name"
3. æŸ¥çœ‹çŠ¶æ€: /mob-seed-status
```

è·³è½¬åˆ°æ­¥éª¤5å®Œæˆã€‚

#### æ­¥éª¤0b: è¿ç§»æ¨¡å¼

è¿ç§»ç°æœ‰ `specs/` åˆ° OpenSpec ç»“æ„ï¼Œä½¿ç”¨ `lib/lifecycle/migrator.js` æ¨¡å—ï¼š

```javascript
const {
  checkMigrationPreConditions,
  migrateToOpenSpec,
  generateMigrationReport
} = require('./lib/lifecycle/migrator');

// 1. æ£€æŸ¥å‰ç½®æ¡ä»¶
const preCheck = checkMigrationPreConditions(projectRoot);
if (!preCheck.canMigrate) {
  console.log('âŒ æ— æ³•è¿ç§»:', preCheck.issues.join(', '));
  return;
}

// 2. æ‰§è¡Œè¿ç§»ï¼ˆå…ˆ dry-run é¢„è§ˆï¼‰
const preview = migrateToOpenSpec(projectRoot, { dryRun: true });
console.log(generateMigrationReport(preview));

// 3. ç”¨æˆ·ç¡®è®¤åæ‰§è¡Œå®é™…è¿ç§»
const result = migrateToOpenSpec(projectRoot, {
  dryRun: false,
  updateState: true,      // æ›´æ–°çŠ¶æ€ä¸º archived
  removeOriginal: false   // ä¿ç•™åŸæ–‡ä»¶ï¼ˆå¤‡ä»½åœ¨ specs.bak/ï¼‰
});
console.log(generateMigrationReport(result));
```

**è¿ç§»è§„åˆ™**ï¼š
| æºè·¯å¾„ | ç›®æ ‡è·¯å¾„ | è¯´æ˜ |
|--------|----------|------|
| `specs/user-auth.fspec.md` | `openspec/specs/user/auth.fspec.md` | æŒ‰ `-` åˆ†å‰²æå– domain |
| `specs/auth.fspec.md` | `openspec/specs/auth/spec.fspec.md` | å•è¯ä½œä¸º domain |
| `specs/auth/oauth.fspec.md` | `openspec/specs/auth/oauth.fspec.md` | ä¿æŒå­ç›®å½•ç»“æ„ |

è¾“å‡ºç¤ºä¾‹ï¼š
```
âœ… è¿ç§»å®Œæˆ

å¤‡ä»½: specs.bak/

è¿ç§»è®°å½•:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŸè·¯å¾„                      â†’ æ–°è·¯å¾„                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ specs/user-auth.fspec.md    â†’ openspec/specs/user/auth.fspec.md â”‚
â”‚ specs/api-v1.fspec.md       â†’ openspec/specs/api/v1.fspec.md    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è·³è½¬åˆ°æ­¥éª¤5å®Œæˆã€‚

#### æ­¥éª¤0c: ä¼ ç»Ÿæ¨¡å¼ï¼ˆ--legacyï¼‰

ç”¨äºå…¼å®¹æ—§é¡¹ç›®ä½¿ç”¨ `specs/` ç›®å½•ç»“æ„ã€‚

æ£€æŸ¥ `.seed/config.json` æ˜¯å¦å­˜åœ¨ï¼š
- å·²å­˜åœ¨ä¸”æ—  `--force`ï¼šæ˜¾ç¤ºå½“å‰é…ç½®ï¼Œè¯¢é—®æ˜¯å¦é‡æ–°åˆå§‹åŒ–
- å·²å­˜åœ¨ä¸”æœ‰ `--force`ï¼šå¤‡ä»½åé‡æ–°åˆå§‹åŒ–
- ä¸å­˜åœ¨ï¼šç»§ç»­åˆå§‹åŒ–æµç¨‹ï¼ˆæ­¥éª¤1-4ï¼‰

### æ­¥éª¤1: æ™ºèƒ½æ‰«æé¡¹ç›®ç»“æ„ï¼ˆä»… --legacy æ¨¡å¼ï¼‰

æ‰«æä»¥ä¸‹å¸¸è§ç›®å½•æ¨¡å¼ï¼š

**è§„æ ¼æ–‡ä»¶ç›®å½•**ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰ï¼š
| æ¨¡å¼ | è¯´æ˜ |
|------|------|
| `specs/` | æ ‡å‡†è§„æ ¼ç›®å½• |
| `spec/` | å•æ•°å½¢å¼ |
| `docs/specs/` | æ–‡æ¡£å†…è§„æ ¼ |
| `requirements/` | éœ€æ±‚ç›®å½• |
| `*.fspec.md` | æ ¹ç›®å½•è§„æ ¼æ–‡ä»¶ |

**æºä»£ç ç›®å½•**ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰ï¼š
| æ¨¡å¼ | è¯´æ˜ |
|------|------|
| `src/` | æ ‡å‡†æºç ç›®å½• |
| `lib/` | åº“ç›®å½• |
| `app/` | åº”ç”¨ç›®å½• |
| `packages/` | Monorepo åŒ…ç›®å½• |

**æµ‹è¯•ç›®å½•**ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰ï¼š
| æ¨¡å¼ | è¯´æ˜ |
|------|------|
| `test/` | æ ‡å‡†æµ‹è¯•ç›®å½• |
| `tests/` | å¤æ•°å½¢å¼ |
| `__tests__/` | Jest é£æ ¼ |
| `spec/` | RSpec é£æ ¼ |

**æ–‡æ¡£ç›®å½•**ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰ï¼š
| æ¨¡å¼ | è¯´æ˜ |
|------|------|
| `docs/` | æ ‡å‡†æ–‡æ¡£ç›®å½• |
| `doc/` | å•æ•°å½¢å¼ |
| `documentation/` | å®Œæ•´æ‹¼å†™ |

**æ–‡ä»¶æ¨¡å¼æ£€æµ‹**ï¼š
| ç±»å‹ | æ£€æµ‹æ–¹å¼ |
|------|----------|
| è§„æ ¼æ–‡ä»¶ | `*.fspec.md`, `*.spec.md`, `*-spec.md` |
| ä»£ç æ–‡ä»¶ | æ ¹æ® package.json/tsconfig æ¨æ–­ |
| æµ‹è¯•æ–‡ä»¶ | `*.test.js`, `*.spec.js`, `*_test.go` ç­‰ |

### æ­¥éª¤2: ç”Ÿæˆé…ç½®æ–‡ä»¶

åˆ›å»º `.seed/config.json`ï¼š

```json
{
  "version": "1.0.0",
  "created": "2025-12-31T14:00:00+08:00",
  "paths": {
    "specs": "specs",        // æ™ºèƒ½æ£€æµ‹ç»“æœ
    "src": "src",
    "test": "test",
    "docs": "docs"
  },
  "patterns": {
    "spec": "*.fspec.md",
    "code": "*.js",          // æ ¹æ®é¡¹ç›®ç±»å‹æ¨æ–­
    "test": "*.test.js"
  },
  "emit": {
    "codeTemplate": "skeleton",
    "testTemplate": "jest",
    "docTemplate": "markdown"
  }
}
```

### æ­¥éª¤3: æ˜¾ç¤ºæ£€æµ‹ç»“æœ

```
ğŸ” SEED æ™ºèƒ½æ‰«æå®Œæˆ

æ£€æµ‹åˆ°çš„é¡¹ç›®ç»“æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç±»å‹        â”‚ æ£€æµ‹è·¯å¾„         â”‚ çŠ¶æ€     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è§„æ ¼ç›®å½•    â”‚ specs/          â”‚ âœ… å·²å­˜åœ¨ â”‚
â”‚ æºç ç›®å½•    â”‚ src/            â”‚ âœ… å·²å­˜åœ¨ â”‚
â”‚ æµ‹è¯•ç›®å½•    â”‚ test/           â”‚ âš ï¸ ä¸å­˜åœ¨ â”‚
â”‚ æ–‡æ¡£ç›®å½•    â”‚ docs/           â”‚ âœ… å·²å­˜åœ¨ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ£€æµ‹åˆ°çš„æ–‡ä»¶æ¨¡å¼ï¼š
- ä»£ç : *.js, *.ts (Node.js é¡¹ç›®)
- æµ‹è¯•: *.test.js

é…ç½®å°†ä¿å­˜åˆ°: .seed/config.json
```

### æ­¥éª¤4: ç”¨æˆ·ç¡®è®¤

è¯¢é—®ç”¨æˆ·æ˜¯å¦éœ€è¦è°ƒæ•´ï¼š

```
ä»¥ä¸Šé…ç½®æ˜¯å¦æ­£ç¡®ï¼Ÿ

1. âœ… ç¡®è®¤ï¼Œä½¿ç”¨æ£€æµ‹åˆ°çš„é…ç½®
2. ğŸ”§ è°ƒæ•´è§„æ ¼ç›®å½•è·¯å¾„
3. ğŸ”§ è°ƒæ•´æºç ç›®å½•è·¯å¾„
4. ğŸ”§ è°ƒæ•´æµ‹è¯•ç›®å½•è·¯å¾„
5. ğŸ“ æ‰‹åŠ¨ç¼–è¾‘å®Œæ•´é…ç½®
```

å¦‚æœç”¨æˆ·é€‰æ‹©è°ƒæ•´ï¼Œè¿›å…¥äº¤äº’å¼é…ç½®æ¨¡å¼ã€‚

### æ­¥éª¤5: ä¿å­˜é…ç½®å¹¶å®Œæˆ

```bash
mkdir -p .seed
# å†™å…¥é…ç½®æ–‡ä»¶
```

è¾“å‡ºå®Œæˆä¿¡æ¯ï¼š

```
âœ… SEED åˆå§‹åŒ–å®Œæˆ

é…ç½®æ–‡ä»¶: .seed/config.json
â”œâ”€â”€ specs: specs/
â”œâ”€â”€ src: src/
â”œâ”€â”€ test: test/
â””â”€â”€ docs: docs/

ä¸‹ä¸€æ­¥:
1. æ£€æŸ¥é…ç½®: cat .seed/config.json
2. åˆ›å»ºè§„æ ¼: /mob-seed-spec "åŠŸèƒ½åç§°"
3. æŸ¥çœ‹çŠ¶æ€: /mob-seed-status
```

## å‚æ•°è¯´æ˜

| å‚æ•° | è¯´æ˜ |
|------|------|
| ï¼ˆæ— å‚æ•°ï¼‰ | **é»˜è®¤åˆ›å»º OpenSpec æ ‡å‡†ç›®å½•ç»“æ„ï¼ˆæ¨èæ‰€æœ‰æ–°é¡¹ç›®ï¼‰** |
| `--legacy` | ä½¿ç”¨ä¼ ç»Ÿ `specs/` ç›®å½•ç»“æ„ï¼ˆå…¼å®¹æ—§é¡¹ç›®ï¼‰ |
| `--migrate` | è¿ç§»ç°æœ‰ specs/ åˆ° OpenSpec ç»“æ„ |
| `--force` | å¼ºåˆ¶é‡æ–°åˆå§‹åŒ–ï¼ˆå¤‡ä»½ç°æœ‰é…ç½®ï¼‰ |
| `--manual` | è·³è¿‡è‡ªåŠ¨æ‰«æï¼Œå®Œå…¨æ‰‹åŠ¨é…ç½® |

## ç¤ºä¾‹ç”¨æ³•

```bash
# OpenSpec æ ‡å‡†æ¨¡å¼ï¼ˆé»˜è®¤ï¼Œæ¨èæ‰€æœ‰æ–°é¡¹ç›®ï¼‰
/mob-seed-init

# è¿ç§»ç°æœ‰é¡¹ç›®åˆ° OpenSpec ç»“æ„
/mob-seed-init --migrate

# ä¼ ç»Ÿ specs/ ç›®å½•æ¨¡å¼ï¼ˆå…¼å®¹æ—§é¡¹ç›®ï¼‰
/mob-seed-init --legacy

# å¼ºåˆ¶é‡æ–°åˆå§‹åŒ–
/mob-seed-init --force

# å®Œå…¨æ‰‹åŠ¨é…ç½®
/mob-seed-init --manual
```

## é…ç½®æ–‡ä»¶è¯¦è§£

`.seed/config.json` å®Œæ•´æ ¼å¼ï¼š

```json
{
  "version": "2.0.0",
  "created": "ISOæ—¶é—´æˆ³",
  "updated": "ISOæ—¶é—´æˆ³",

  "openspec": {
    "enabled": true,              // å¯ç”¨ OpenSpec å…¼å®¹æ¨¡å¼
    "root": "openspec",           // OpenSpec æ ¹ç›®å½•
    "specsDir": "specs",          // çœŸç›¸æºç›®å½•
    "changesDir": "changes",      // å˜æ›´ææ¡ˆç›®å½•
    "archiveDir": "archive"       // å½’æ¡£ç›®å½•
  },

  "paths": {
    "specs": "openspec/specs",    // è§„æ ¼æ–‡ä»¶ç›®å½•ï¼ˆOpenSpec æ¨¡å¼ï¼‰
    "src": "src",                 // æºä»£ç ç›®å½•
    "test": "test",               // æµ‹è¯•ç›®å½•
    "docs": "docs",               // æ–‡æ¡£ç›®å½•
    "output": ".seed/output"      // SEED è¾“å‡ºç›®å½•
  },

  "patterns": {
    "spec": "*.fspec.md",         // è§„æ ¼æ–‡ä»¶æ¨¡å¼
    "code": "*.js",               // ä»£ç æ–‡ä»¶æ¨¡å¼
    "test": "*.test.js"           // æµ‹è¯•æ–‡ä»¶æ¨¡å¼
  },

  "emit": {
    "codeTemplate": "skeleton",   // ä»£ç ç”Ÿæˆæ¨¡æ¿
    "testTemplate": "jest",       // æµ‹è¯•ç”Ÿæˆæ¨¡æ¿
    "docTemplate": "markdown"     // æ–‡æ¡£ç”Ÿæˆæ¨¡æ¿
  },

  "sync": {
    "autoBackup": true,           // åŒæ­¥å‰è‡ªåŠ¨å¤‡ä»½
    "defaultDirection": "spec"    // é»˜è®¤åŒæ­¥æ–¹å‘
  }
}
```
