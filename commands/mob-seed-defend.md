---
description: SEED Dé˜¶æ®µ - å®ˆæŠ¤è§„æ ¼ä¸ä»£ç çš„åŒæ­¥
allowed-tools: Read, Write, Edit, Bash, Glob, Grep
argument-hint: <spec-path> [--check] [--fix] [--report] [--strict]
---

# mob-seed-defend

æ‰§è¡Œå†…å®¹ï¼š$ARGUMENTS

## ğŸ“¦ ä¾èµ–èµ„æº

- æŠ€èƒ½ç›®å½•: `.claude/skills/mob-seed/`
- åŒæ­¥æ£€æŸ¥: `prompts/defend-sync.md`
- æ¼‚ç§»æ£€æµ‹: `prompts/defend-drift.md`
- æ£€æŸ¥å¼•æ“: `adapters/defend-checker.js`
- **é¡¹ç›®é…ç½®**: `.seed/config.json`ï¼ˆç”± `/mob-seed-init` ç”Ÿæˆï¼‰

## æ‰§è¡Œæ­¥éª¤

### æ­¥éª¤0: æ£€æŸ¥åˆå§‹åŒ–çŠ¶æ€å¹¶åŠ è½½é…ç½®

1. **æ£€æŸ¥ SEED æ˜¯å¦å·²åˆå§‹åŒ–**ï¼š
   - æ£€æŸ¥ `.seed/config.json` æ˜¯å¦å­˜åœ¨
   - å¦‚ä¸å­˜åœ¨ï¼Œæç¤ºç”¨æˆ·è¿è¡Œ `/mob-seed-init`

2. **åŠ è½½é…ç½®è·å–è·¯å¾„**ï¼š
```javascript
const config = loadSeedConfig();
const SPECS_DIR = config.paths.specs;
const SRC_DIR = config.paths.src;
const TEST_DIR = config.paths.test;
const OUTPUT_DIR = config.paths.output;
```

3. **åŠ¨æ€æ£€æµ‹æŠ€èƒ½ç›®å½•**ï¼š
```bash
if [ -d ".claude/skills/mob-seed" ]; then
    SKILL_DIR=".claude/skills/mob-seed"
elif [ -d "$HOME/.claude/skills/mob-seed" ]; then
    SKILL_DIR="$HOME/.claude/skills/mob-seed"
fi
```

### æ­¥éª¤1: è§£æå‚æ•°

ä» `$ARGUMENTS` ä¸­è§£æï¼š

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `<spec-path>` | è§„æ ¼æ–‡ä»¶è·¯å¾„ | å¿…éœ€ |
| `--check` | åªæ£€æŸ¥ä¸ä¿®å¤ | é»˜è®¤ |
| `--fix` | è‡ªåŠ¨ä¿®å¤å¯ä¿®å¤çš„é—®é¢˜ | - |
| `--report` | ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š | - |
| `--strict` | ä¸¥æ ¼æ¨¡å¼ï¼ˆè­¦å‘Šä¹Ÿç®—å¤±è´¥ï¼‰| - |

### æ­¥éª¤2: åŒæ­¥æ£€æŸ¥

æ£€æŸ¥è§„æ ¼ä¸æ´¾ç”Ÿäº§ç‰©çš„åŒæ­¥çŠ¶æ€ï¼š

1. **éœ€æ±‚è¦†ç›–**: æ¯ä¸ª FR éƒ½æœ‰å¯¹åº”çš„å®ç° (Spec â†’ Code)
2. **æµ‹è¯•è¦†ç›–**: æ¯ä¸ª AC éƒ½æœ‰å¯¹åº”çš„æµ‹è¯• (Spec â†’ Test)
3. **æ–‡æ¡£åŒæ­¥**: æ–‡æ¡£å†…å®¹ä¸**ä»£ç **ä¸€è‡´ (Code â†’ Docs)

> âš ï¸ **é‡è¦**: æ–‡æ¡£ä»ä»£ç æ´¾ç”Ÿï¼Œä¸æ˜¯ä»è§„æ ¼æ´¾ç”Ÿï¼
> æ´¾ç”Ÿé“¾: `Spec â†’ Code â†’ Docs`

### æ­¥éª¤3: æ¼‚ç§»æ£€æµ‹

æ£€æµ‹ä»£ç æ˜¯å¦åç¦»è§„æ ¼ï¼š

1. **æ–°å¢æ£€æµ‹**: ä»£ç ä¸­æœ‰è§„æ ¼æœªå®šä¹‰çš„åŠŸèƒ½
2. **ç¼ºå¤±æ£€æµ‹**: è§„æ ¼å®šä¹‰ä½†ä»£ç æœªå®ç°
3. **ä¸ä¸€è‡´æ£€æµ‹**: å®ç°ä¸è§„æ ¼æè¿°ä¸ç¬¦

### æ­¥éª¤4: é—®é¢˜åˆ†ç±»

| çº§åˆ« | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| ERROR | ä¸¥é‡åç¦»ï¼Œå¿…é¡»ä¿®å¤ | æœªå®ç°çš„éœ€æ±‚ |
| WARNING | è½»å¾®åç¦»ï¼Œå»ºè®®ä¿®å¤ | æ–‡æ¡£è¿‡æ—¶ |
| INFO | æç¤ºä¿¡æ¯ | å»ºè®®ä¼˜åŒ– |

### æ­¥éª¤5: è‡ªåŠ¨ä¿®å¤ï¼ˆ--fixï¼‰

å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜ï¼š

- æ›´æ–°æ–‡æ¡£ä¸­çš„ç‰ˆæœ¬å·
- é‡æ–°ç”Ÿæˆè¿‡æ—¶çš„æ–‡æ¡£
- è¡¥å……ç¼ºå¤±çš„æµ‹è¯•éª¨æ¶

ä¸å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜ï¼š

- ä»£ç å®ç°ç¼ºå¤±
- é€»è¾‘ä¸ä¸€è‡´

### æ­¥éª¤6: è¾“å‡ºæŠ¥å‘Š

```
output/mob-seed/
â”œâ”€â”€ defend-report-{timestamp}.json   # è¯¦ç»†æŠ¥å‘Š
â””â”€â”€ defend-summary-{timestamp}.md    # å¯è¯»æ‘˜è¦
```

## è¾“å‡ºæ ¼å¼

### å®ˆæŠ¤æ‘˜è¦

```markdown
# å®ˆæŠ¤æŠ¥å‘Š: {æ¨¡å—å}

## åŒæ­¥çŠ¶æ€

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯¦æƒ… |
|--------|------|------|
| éœ€æ±‚è¦†ç›– | âœ… | 5/5 FR å·²å®ç° |
| æµ‹è¯•è¦†ç›– | âš ï¸ | 4/5 AC æœ‰æµ‹è¯• |
| æ–‡æ¡£åŒæ­¥ | âŒ | ç‰ˆæœ¬å·è¿‡æ—¶ |

## æ¼‚ç§»æ£€æµ‹

- ğŸ”´ ERROR: FR-003 æœªå®ç°
- ğŸŸ¡ WARNING: æ–‡æ¡£ç‰ˆæœ¬å·ä¸è§„æ ¼ä¸ç¬¦
- ğŸ”µ INFO: å»ºè®®æ·»åŠ  AC-005 çš„è¾¹ç•Œæµ‹è¯•

## ä¿®å¤å»ºè®®

1. å®ç° FR-003 å¯¹åº”çš„åŠŸèƒ½
2. è¿è¡Œ `/mob-seed-emit --docs` æ›´æ–°æ–‡æ¡£
```

### æ­¥éª¤7: å½’æ¡£æç¤ºï¼ˆé‡è¦ï¼‰

**å½“æ‰€æœ‰æ£€æŸ¥é€šè¿‡ä¸”è§„æ ¼å¤„äº `implementing` çŠ¶æ€æ—¶**ï¼Œå¿…é¡»æç¤ºç”¨æˆ·ï¼š

```markdown
## âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡

è§„æ ¼ `{spec-name}` å·²å®Œå…¨åŒæ­¥ï¼Œå¯ä»¥å½’æ¡£ã€‚

**ä¸‹ä¸€æ­¥æ“ä½œ**:
```bash
/mob-seed-archive {proposal-path}
```

âš ï¸ **é‡è¦**:
- æœ¬å‘½ä»¤ (`/mob-seed-defend`) åªåšæ£€æŸ¥ï¼Œä¸æ‰§è¡Œå½’æ¡£
- å½’æ¡£æ“ä½œè¯·ä½¿ç”¨ `/mob-seed-archive`ï¼Œå®ƒä¼šï¼š
  1. åˆå¹¶è§„æ ¼åˆ° `openspec/specs/`ï¼ˆçœŸç›¸æºï¼‰
  2. ç§»åŠ¨ææ¡ˆåˆ° `openspec/archive/`
  3. æ›´æ–°çŠ¶æ€ä¸º `archived`
```

**ç¦æ­¢**: åœ¨æ­¤å‘½ä»¤ä¸­æ‰‹åŠ¨æ‰§è¡Œ `mv` æˆ–ä¿®æ”¹æ–‡ä»¶ä½ç½®ã€‚

## ç¤ºä¾‹ç”¨æ³•

```bash
# æ£€æŸ¥åŒæ­¥çŠ¶æ€
/mob-seed-defend specs/user-auth.fspec.md

# æ£€æŸ¥å¹¶è‡ªåŠ¨ä¿®å¤
/mob-seed-defend specs/user-auth.fspec.md --fix

# ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
/mob-seed-defend specs/user-auth.fspec.md --report

# ä¸¥æ ¼æ¨¡å¼ï¼ˆCI ä¸­ä½¿ç”¨ï¼‰
/mob-seed-defend specs/user-auth.fspec.md --strict
```

## æ³¨æ„äº‹é¡¹

- `/mob-seed-defend` æ˜¯**åªè¯»**å‘½ä»¤ï¼Œä¸ä¼šä¿®æ”¹æ–‡ä»¶ä½ç½®
- å½’æ¡£æ“ä½œè¯·ä½¿ç”¨ `/mob-seed-archive`
- å‚è§ CLAUDE.md ç»éªŒæ•™è®­ #7 å’Œ #8
