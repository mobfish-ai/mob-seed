---
description: SEED Eé˜¶æ®µ - è‡ªåŠ¨æ´¾ç”Ÿï¼ˆä»è§„æ ¼ç”Ÿæˆä»£ç /æµ‹è¯•/æ–‡æ¡£ï¼‰
allowed-tools: Read, Write, Edit, Bash, Task, TodoWrite, AskUserQuestion
argument-hint: <è§„æ ¼æ–‡ä»¶> [--code|--test|--docs|--all] [--dry-run]
---

# mob-seed-emit - è‡ªåŠ¨æ´¾ç”Ÿ

æ‰§è¡Œå†…å®¹ï¼š$ARGUMENTS

---

## E é˜¶æ®µæ ¸å¿ƒåŸåˆ™

> **Emitï¼ˆè‡ªåŠ¨æ´¾ç”Ÿï¼‰**: æ‰€æœ‰äº§ç‰©å¿…é¡»ä»è§„æ ¼è‡ªåŠ¨ç”Ÿæˆï¼Œç¦æ­¢æ‰‹åŠ¨åˆ›å»ºã€‚

---

## ğŸ“¦ ä¾èµ–èµ„æº

```
.claude/skills/mob-seed/
â”œâ”€â”€ prompts/
â”‚   â”œâ”€â”€ emit-code.md        # ä»£ç æ´¾ç”ŸæŒ‡å¯¼
â”‚   â”œâ”€â”€ emit-test.md        # æµ‹è¯•æ´¾ç”ŸæŒ‡å¯¼
â”‚   â””â”€â”€ emit-docs.md        # æ–‡æ¡£æ´¾ç”ŸæŒ‡å¯¼
â””â”€â”€ adapters/
    â”œâ”€â”€ emit-engine.js      # æ´¾ç”Ÿå¼•æ“
    â””â”€â”€ seed-utils.js       # å·¥å…·æ¨¡å—
```

**é¡¹ç›®é…ç½®**: `.seed/config.json`ï¼ˆç”± `/mob-seed-init` ç”Ÿæˆï¼‰

---

## æ‰§è¡Œæ­¥éª¤

### æ­¥éª¤ 0: æ£€æŸ¥åˆå§‹åŒ–çŠ¶æ€å¹¶åŠ è½½é…ç½®

1. **æ£€æŸ¥ SEED æ˜¯å¦å·²åˆå§‹åŒ–**ï¼š
   - æ£€æŸ¥ `.seed/config.json` æ˜¯å¦å­˜åœ¨
   - å¦‚ä¸å­˜åœ¨ï¼Œæç¤ºç”¨æˆ·è¿è¡Œ `/mob-seed-init`

2. **åŠ è½½é…ç½®è·å–è·¯å¾„**ï¼š
```javascript
const config = loadSeedConfig();
const SPECS_DIR = config.paths.specs;
const SRC_DIR = config.paths.src;
const TEST_DIR = config.paths.test;
const DOCS_DIR = config.paths.docs;
const OUTPUT_DIR = config.paths.output;
```

3. **åŠ¨æ€æ£€æµ‹æŠ€èƒ½ç›®å½•**ï¼š
```bash
if [ -d ".claude/skills/mob-seed" ]; then
    SKILL_DIR=".claude/skills/mob-seed"
elif [ -d "$HOME/.claude/skills/mob-seed" ]; then
    SKILL_DIR="$HOME/.claude/skills/mob-seed"
fi
```

### æ­¥éª¤ 1: è§£æå‚æ•°

| å‚æ•° | æ¨¡å¼ | è¯´æ˜ |
|------|------|------|
| `--code` | ä»£ç æ´¾ç”Ÿ | åªç”Ÿæˆä»£ç  |
| `--test` | æµ‹è¯•æ´¾ç”Ÿ | åªç”Ÿæˆæµ‹è¯• |
| `--docs` | æ–‡æ¡£æ´¾ç”Ÿ | åªç”Ÿæˆæ–‡æ¡£ |
| `--all` | å…¨é‡æ´¾ç”Ÿ | ç”Ÿæˆæ‰€æœ‰äº§ç‰©ï¼ˆé»˜è®¤ï¼‰ |
| `--dry-run` | é¢„è§ˆæ¨¡å¼ | åªæ˜¾ç¤ºå°†è¦ç”Ÿæˆçš„å†…å®¹ï¼Œä¸å®é™…å†™å…¥ |

### æ­¥éª¤ 2: è¯»å–è§„æ ¼æ–‡ä»¶

1. å®šä½è§„æ ¼æ–‡ä»¶ï¼š`{config.paths.specs}/{name}.fspec.md`
2. è§£æè§„æ ¼å†…å®¹ï¼š
   - æå–éœ€æ±‚åˆ—è¡¨ï¼ˆFR-xxxï¼‰
   - æå–éªŒæ”¶æ ‡å‡†ï¼ˆAC-xxxï¼‰
   - æå–æ´¾ç”Ÿäº§ç‰©è·¯å¾„

### æ­¥éª¤ 3: æ‰§è¡Œæ´¾ç”Ÿ

> âš ï¸ **é‡è¦**: æ´¾ç”Ÿå¿…é¡»ç”Ÿæˆ **å®Œæ•´å¯è¿è¡Œçš„å®ç°ä»£ç **ï¼Œç¦æ­¢ç”Ÿæˆç©ºå£³æˆ– TODO å ä½ç¬¦ã€‚

#### 3.1 ä»£ç æ´¾ç”Ÿ (--code)

1. è¯»å–æ´¾ç”ŸæŒ‡å¯¼ï¼š`$SKILL_DIR/prompts/emit-code.md`
2. æ ¹æ®è§„æ ¼ä¸­çš„éœ€æ±‚ï¼ˆFR/NFRï¼‰ç”Ÿæˆ **å®Œæ•´å®ç°ä»£ç **ï¼š
   - å®ç°æ‰€æœ‰åŠŸèƒ½é€»è¾‘ï¼Œä¸ç•™ `TODO` æˆ– `throw new Error('Not implemented')`
   - åŒ…å«å‚æ•°æ ¡éªŒã€é”™è¯¯å¤„ç†ã€è¾¹ç•Œæƒ…å†µ
   - éµå¾ªé¡¹ç›®ä»£ç é£æ ¼å’Œçº¦å®š
3. è¾“å‡ºåˆ°é…ç½®è·¯å¾„ï¼š`{config.paths.src}/`

#### 3.2 æµ‹è¯•æ´¾ç”Ÿ (--test)

1. è¯»å–æ´¾ç”ŸæŒ‡å¯¼ï¼š`$SKILL_DIR/prompts/emit-test.md`
2. æ ¹æ®éªŒæ”¶æ ‡å‡†ï¼ˆACï¼‰ç”Ÿæˆ **å®Œæ•´å¯è¿è¡Œçš„æµ‹è¯•**ï¼š
   - æ¯ä¸ª AC ç”Ÿæˆå…·ä½“æµ‹è¯•ç”¨ä¾‹ï¼ˆGiven/When/Thenï¼‰
   - åŒ…å«çœŸå®æ–­è¨€ï¼Œä¸ä½¿ç”¨ `assert.ok(true, 'TODO')`
   - è¦†ç›–æ­£å¸¸è·¯å¾„å’Œé”™è¯¯è·¯å¾„
3. è¾“å‡ºåˆ°é…ç½®è·¯å¾„ï¼š`{config.paths.test}/`

#### 3.3 æ–‡æ¡£æ´¾ç”Ÿ (--docs)

> âš ï¸ **é‡è¦**: æ–‡æ¡£å¿…é¡»ä» **ä»£ç ** æ´¾ç”Ÿï¼Œä¸æ˜¯ä»è§„æ ¼æ´¾ç”Ÿï¼
>
> **SEED æ´¾ç”Ÿé“¾**: `Spec â†’ Code â†’ Docs`ï¼ˆä»£ç æ˜¯æ–‡æ¡£çš„çœŸç›¸æºï¼‰

1. è¯»å–æ´¾ç”ŸæŒ‡å¯¼ï¼š`$SKILL_DIR/prompts/emit-docs.md`
2. **ä»ä»£ç æå–ä¿¡æ¯ç”Ÿæˆæ–‡æ¡£**ï¼š
   - è§£æä»£ç æ–‡ä»¶çš„ JSDoc/æ³¨é‡Š
   - æå–å‡½æ•°ç­¾åã€å‚æ•°ç±»å‹ã€è¿”å›å€¼
   - æå– `module.exports` å¯¼å‡ºæ¥å£
   - æå–é…ç½®é¡¹å’Œé»˜è®¤å€¼
   - æå–ä½¿ç”¨ç¤ºä¾‹ï¼ˆå¦‚æœ‰ï¼‰
3. è¾“å‡ºåˆ°é…ç½®è·¯å¾„ï¼š`{config.paths.docs}/`

**ç¦æ­¢**: ç›´æ¥ä»è§„æ ¼å¤åˆ¶å†…å®¹åˆ°æ–‡æ¡£ï¼ˆè¿™ä¸æ˜¯æ´¾ç”Ÿï¼Œæ˜¯æ ¼å¼è½¬æ¢ï¼‰

### æ­¥éª¤ 4: è®°å½•æ´¾ç”Ÿå…³ç³»

ç”Ÿæˆæ´¾ç”Ÿæ¸…å•ï¼ˆmanifestï¼‰ï¼š

```json
{
  "spec": "specs/user-login.fspec.md",
  "emittedAt": "2024-12-28T10:30:00+08:00",
  "outputs": [
    {
      "type": "code",
      "path": "src/auth/login.js",
      "hash": "abc123..."
    },
    {
      "type": "test",
      "path": "test/auth/login.test.js",
      "hash": "def456..."
    }
  ]
}
```

### æ­¥éª¤ 5: è¾“å‡ºç»“æœ

```
{config.paths.src}/
â””â”€â”€ {module}/{file}.js      # æ´¾ç”Ÿçš„ä»£ç 

{config.paths.test}/
â””â”€â”€ {module}/{file}.test.js # æ´¾ç”Ÿçš„æµ‹è¯•

{config.paths.docs}/
â””â”€â”€ {module}/{file}.md      # æ´¾ç”Ÿçš„æ–‡æ¡£

{config.paths.output}/
â”œâ”€â”€ seed-manifest.json      # æ´¾ç”Ÿæ¸…å•
â””â”€â”€ emit-report.md          # æ´¾ç”ŸæŠ¥å‘Š
```

> æ³¨ï¼šæ‰€æœ‰è·¯å¾„ä» `.seed/config.json` è¯»å–ï¼Œé€‚é…ä»»ä½•é¡¹ç›®ç»“æ„

---

## æ´¾ç”Ÿè§„åˆ™

### è§„æ ¼ â†’ ä»£ç æ˜ å°„

| è§„æ ¼å†…å®¹ | ä»£ç äº§ç‰© |
|----------|----------|
| åŠŸèƒ½éœ€æ±‚ (FR) | å‡½æ•°/æ–¹æ³•å®ç° |
| éåŠŸèƒ½éœ€æ±‚ (NFR) | æ€§èƒ½ä¼˜åŒ–ã€é”™è¯¯å¤„ç† |
| çº¦æŸ | ç±»å‹å®šä¹‰ã€æ ¡éªŒé€»è¾‘ |
| æ¥å£å®šä¹‰ | API è·¯ç”±ã€å‚æ•°å¤„ç† |

### è§„æ ¼ â†’ æµ‹è¯•æ˜ å°„

| è§„æ ¼å†…å®¹ | æµ‹è¯•äº§ç‰© |
|----------|----------|
| éªŒæ”¶æ ‡å‡† (AC) | æµ‹è¯•ç”¨ä¾‹ |
| Given | beforeEach/setup |
| When | æµ‹è¯•æ“ä½œ |
| Then | assert/expect |

### ä»£ç  â†’ æ–‡æ¡£æ˜ å°„ï¼ˆé‡è¦ï¼‰

> âš ï¸ æ–‡æ¡£ä»ä»£ç æ´¾ç”Ÿï¼Œä¸æ˜¯ä»è§„æ ¼æ´¾ç”Ÿï¼

| ä»£ç å†…å®¹ | æ–‡æ¡£äº§ç‰© |
|----------|----------|
| æ¨¡å—æè¿° (JSDoc @module) | ç®€ä»‹ç« èŠ‚ |
| å‡½æ•°ç­¾å + JSDoc | API å‚è€ƒ |
| @example æ³¨é‡Š | ä½¿ç”¨ç¤ºä¾‹ |
| @param/@returns | å‚æ•°/è¿”å›å€¼è¯´æ˜ |
| module.exports | å¯¼å‡ºæ¥å£åˆ—è¡¨ |
| é…ç½®å¯¹è±¡/é»˜è®¤å€¼ | é…ç½®æ–‡æ¡£ |
| é”™è¯¯å¤„ç†é€»è¾‘ | é”™è¯¯å¤„ç†è¯´æ˜ |

**æ–‡æ¡£ç±»å‹**:
- API æ–‡æ¡£ï¼šä»å‡½æ•°ç­¾åå’Œ JSDoc æå–
- ä½¿ç”¨æŒ‡å—ï¼šä»ä»£ç ç¤ºä¾‹å’Œ @example æå–
- é…ç½®æ–‡æ¡£ï¼šä»é…ç½®å¯¹è±¡å’Œé»˜è®¤å€¼æå–
- æ¨¡å—æ–‡æ¡£ï¼šä»å¯¼å‡ºå’Œæ¨¡å—ç»“æ„æå–

---

## ä½¿ç”¨ç¤ºä¾‹

```bash
# å…¨é‡æ´¾ç”Ÿï¼ˆé»˜è®¤ï¼‰
/mob-seed-emit "specs/user-login.fspec.md"

# åªç”Ÿæˆä»£ç 
/mob-seed-emit "specs/user-login.fspec.md" --code

# åªç”Ÿæˆæµ‹è¯•
/mob-seed-emit "specs/user-login.fspec.md" --test

# é¢„è§ˆæ¨¡å¼
/mob-seed-emit "specs/user-login.fspec.md" --dry-run

# æŒ‡å®šå¤šä¸ªæ´¾ç”Ÿç±»å‹
/mob-seed-emit "specs/user-login.fspec.md" --code --test
```

---

## è¿›åº¦æ˜¾ç¤º

| å›¾æ ‡ | å«ä¹‰ |
|------|------|
| ğŸ“„ | è¯»å–è§„æ ¼ |
| âš™ï¸ | æ­£åœ¨æ´¾ç”Ÿ |
| ğŸ“¦ | ç”Ÿæˆäº§ç‰© |
| âœ… | æ´¾ç”Ÿå®Œæˆ |
| âš ï¸ | æ´¾ç”Ÿè­¦å‘Š |
| âŒ | æ´¾ç”Ÿå¤±è´¥ |

ç¤ºä¾‹è¾“å‡ºï¼š
```
ğŸŒ± SEED Eé˜¶æ®µ: è‡ªåŠ¨æ´¾ç”Ÿ
â”â”â” ğŸ“„ è¯»å–è§„æ ¼ â”â”â”
è§„æ ¼: specs/user-login.fspec.md
éœ€æ±‚: 3 FR, 2 NFR
éªŒæ”¶: 4 AC

â”â”â” âš™ï¸ ä»£ç æ´¾ç”Ÿ â”â”â”
ğŸ“¦ src/auth/login.js (æ–°å»º)
ğŸ“¦ src/auth/validators.js (æ–°å»º)

â”â”â” âš™ï¸ æµ‹è¯•æ´¾ç”Ÿ â”â”â”
ğŸ“¦ test/auth/login.test.js (æ–°å»º)

â”â”â” âš™ï¸ æ–‡æ¡£æ´¾ç”Ÿ â”â”â”
ğŸ“¦ docs/auth/login.md (æ–°å»º)

âœ… Eé˜¶æ®µå®Œæˆ
æ´¾ç”Ÿäº§ç‰©: 4 æ–‡ä»¶
æ¸…å•: output/mob-seed/seed-manifest.json
```

---

## å†²çªå¤„ç†

å½“æ´¾ç”Ÿäº§ç‰©å·²å­˜åœ¨æ—¶ï¼š

| é…ç½® | è¡Œä¸º |
|------|------|
| `overwrite: false` | è·³è¿‡ï¼Œä¿ç•™ç°æœ‰æ–‡ä»¶ |
| `overwrite: true` | è¦†ç›–ç°æœ‰æ–‡ä»¶ |
| `--force` | å¼ºåˆ¶è¦†ç›–ï¼ˆå¿½ç•¥é…ç½®ï¼‰ |

```bash
# å¼ºåˆ¶è¦†ç›–
/mob-seed-emit "specs/user-login.fspec.md" --force
```

---

## æ´¾ç”Ÿå¼•æ“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ´¾ç”Ÿå¼•æ“æ¶æ„                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  è§„æ ¼æ–‡ä»¶ (.fspec.md)                                        â”‚
â”‚      â”‚                                                       â”‚
â”‚      â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚   è§„æ ¼è§£æå™¨         â”‚  è§£æ Markdown ç»“æ„                â”‚
â”‚  â”‚   SpecParser        â”‚                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚            â”‚                                                 â”‚
â”‚            â–¼                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚   æ´¾ç”Ÿå¼•æ“          â”‚  è°ƒåº¦å„ç±»å‹æ´¾ç”Ÿ                     â”‚
â”‚  â”‚   EmitEngine        â”‚                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚            â”‚                                                 â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”                                          â”‚
â”‚      â–¼     â–¼     â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚  â”‚ Code â”‚ â”‚ Test â”‚ â”‚ Docs â”‚                                â”‚
â”‚  â”‚Emitterâ”‚ â”‚Emitterâ”‚ â”‚Emitterâ”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚      â”‚     â”‚     â”‚                                          â”‚
â”‚      â–¼     â–¼     â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚   æ–‡ä»¶å†™å…¥å™¨          â”‚  å†™å…¥æ–‡ä»¶ + æ›´æ–°æ¸…å•              â”‚
â”‚  â”‚   FileWriter         â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
